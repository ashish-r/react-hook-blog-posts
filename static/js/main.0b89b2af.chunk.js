(this["webpackJsonpreact-hooks-blog-demo"]=this["webpackJsonpreact-hooks-blog-demo"]||[]).push([[0],{47:function(e,t,a){e.exports=a(77)},56:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(16),o=a.n(r),l=a(5),i=(a(56),a(7)),s=a(22),u=a(14),m=a(3),d=a.n(m),g=a(13),f=a(18),p=a(38),E=a.n(p),b="https://public-api.wordpress.com/rest/v1.1/sites/";function h(e){return v.apply(this,arguments)}function v(){return(v=Object(g.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",E.a.get("".concat(b).concat(107403796,"/").concat(t)).then((function(e){return e.data})).catch((function(e){console.log(e),console.log("An Error Occurred")})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(e){return Object.keys(e).map((function(t){return"".concat(encodeURIComponent(t),"=").concat(encodeURIComponent(e[t]))})).join("&")}function j(e){return Object.keys(e).reduce((function(t,a){return Object(u.a)({},t,Object(f.a)({},a,e[a]+""))}),{})}function y(e,t){t.stopPropagation(),e()}var k="tags/?order_by=count&order=DESC&number=".concat(10),w="posts/?number=".concat(25,"&order_by=date"),N="SAVE_BLOG_FEEDS",L="SAVE_CATEGORIES",C="SAVE_TOP_TAGS";var S=a(10),_=Object(S.a)();function T(e){_.push(e)}var D=function(e){var t=e.post,a=e.showCompletePost,n=void 0!==a&&a;return c.a.createElement("article",{className:"article-content"},c.a.createElement("header",null,t.featured_image&&c.a.createElement("img",{src:"".concat(t.featured_image),alt:"Post Thumbnail",className:"post-thumbnail"}),c.a.createElement("div",{className:"article-category-wrapper"},Object.keys(t.categories).map((function(e){return c.a.createElement("div",{className:"article-category",key:e,onClick:function(a){return y((function(){return T("/category/".concat(t.categories[e].slug))}),a)}},e)}))),c.a.createElement("h2",{className:"post-title"},t.title)),c.a.createElement("footer",{className:"post-meta-container"},c.a.createElement("div",{className:"post-meta"},"\u2022 \xa0",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,a=t.getTime()-e.getTime(),n=Math.floor(a/864e5);if(n>20)return e.toDateString();if(n>1)return"".concat(n," days ago");if(1===n)return"Yesterday";var c=Math.floor(a/36e5);if(c>=1)return"".concat(c," ").concat(1===c?"hour ago":"hours ago");var r=Math.floor(a/6e4);return r>=1?"".concat(r," ").concat(1===r?"minute ago":"minutes ago"):"Just now"}(new Date(t.date))),t.author&&t.author.name&&c.a.createElement("div",{className:"post-meta"},"\u2022 \xa0",t.author.name)),c.a.createElement("div",{className:"content-section"},c.a.createElement("div",{dangerouslySetInnerHTML:{__html:t[n?"content":"excerpt"]}})),c.a.createElement("div",{className:"article-category-wrapper"},Object.keys(t.tags).map((function(e){return c.a.createElement("div",{className:"article-tag",key:e,onClick:function(a){return y((function(){return T("/tag/".concat(t.tags[e].slug))}),a)}},e)}))))},x=a(8),I=function(){var e=Object(n.useState)(1),t=Object(i.a)(e,2),a=t[0],r=t[1];Object(n.useEffect)((function(){return window.scrollTo(0,0)}),[]);var o=Object(x.d)().pathname,u=o.split("/").slice(1),m=Object(i.a)(u,2),f=m[0],p=m[1],E=function(e){var t=Object(n.useRef)();return Object(n.useEffect)((function(){t.current=e}),[e]),t.current}(o)!==o,b={page:a},v=!1;f&&p&&(b[f]=p,v=!0);var y=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],a=Object(n.useState)({isLoading:!0,data:{feed:void 0,totalCount:0}}),c=Object(i.a)(a,2),r=c[0],o=c[1],u=O(j(e)),m=Object(l.b)();return Object(n.useEffect)((function(){Object(g.a)(d.a.mark((function e(){var a,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("".concat(w,"&").concat(u));case 2:a=e.sent,n=a&&a.posts&&a.posts.map((function(e){return{author:e.author,categories:e.categories,content:e.content,date:e.date,excerpt:e.excerpt,featured_image:e.featured_image,ID:e.ID,slug:e.slug,tags:e.tags,title:e.title}})),o({isLoading:!1,data:{feed:[].concat(Object(s.a)(t&&r.data.feed||[]),Object(s.a)(n||[])),totalCount:a&&a.found||0}});case 5:case"end":return e.stop()}}),e)})))()}),[u]),m({type:N,payload:{data:r.data.feed,totalCount:r.data.totalCount}}),{data:r.data.feed,isLoading:r.isLoading}}(b,!E),k=Object(l.c)((function(e){return e.blog.categories}))||[],L=Object(l.c)((function(e){return e.blog.topTags}))||[],C=Object(l.c)((function(e){return e.blog.totalBlogs}))||0,S=Object(n.useMemo)((function(){return v?"".concat(f," Archives: ").concat((("category"===f?k:L).find((function(e){return e.slug===p}))||{}).name||p.split("-").join(" ")):""}),[v,f,p,k,L]);return c.a.createElement("div",{className:"feeds-container"},S&&c.a.createElement("h4",{className:"path-info"},S),y.isLoading||E?c.a.createElement("h2",null,"Loading..."):y.data?c.a.createElement(c.a.Fragment,null,y.data.map((function(e){return c.a.createElement("div",{className:"blog-feed-navigation",key:"".concat(e.slug,"-").concat(e.ID),onClick:function(){return T("/post/".concat(e.ID,"/").concat(e.slug))}},c.a.createElement(D,{post:e}),c.a.createElement("div",{className:"click-continue"},"Continue Reading \u2192 "))})),C>25*a&&c.a.createElement("div",{className:"view-more-btn-container"},y.data.length===25*(a-1)?c.a.createElement("button",null," Loading... "):c.a.createElement("button",{onClick:function(){return r(a+1)}}," Older Posts "))):c.a.createElement("h2",null,"Error Loading Data!!"))},A=function(){Object(n.useEffect)((function(){return window.scrollTo(0,0)}),[]);var e=Object(x.d)().pathname.split("/").slice(2),t=Object(i.a)(e,2),a=function(e,t){var a=Object(n.useState)({isLoading:!0,data:void 0}),c=Object(i.a)(a,2),r=c[0],o=c[1],s=Object(l.c)((function(e){return e.blog.blogs}))||[];return Object(n.useEffect)((function(){var a=s.find((function(a){var n=a.ID,c=a.slug;return n===e&&c===t}));a?o({isLoading:!1,data:a}):Object(g.a)(d.a.mark((function t(){var a;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,h("".concat("posts/").concat(e));case 2:a=t.sent,o({isLoading:!1,data:a});case 4:case"end":return t.stop()}}),t)})))()}),[]),Object(u.a)({},r)}(+t[0],t[1]),r=a.data,o=a.isLoading;return c.a.createElement("div",{className:"feeds-container"},o?c.a.createElement("h2",null,"Loading..."):r?c.a.createElement(D,{post:r,showCompletePost:!0}):c.a.createElement("h2",null,"Error Loading Data!!"))},R=c.a.memo((function(){return c.a.createElement("div",{className:"header-main"},c.a.createElement("div",{className:"header-title"},c.a.createElement("h1",{className:"site-title"},c.a.createElement("span",{onClick:function(){return T("/")}},"React Hooks Blog"))),c.a.createElement("header",{className:"header-image-container"},c.a.createElement("img",{src:"https://truecaller.blog/wp-content/uploads/2017/03/cropped-blog-header.png",alt:"Header"})))})),B=c.a.memo((function(){var e=function(){var e=Object(n.useState)({isLoading:!0,data:void 0}),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(l.b)();return Object(n.useEffect)((function(){Object(g.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h("categories/");case 2:t=e.sent,c({isLoading:!1,data:t&&t.categories&&t.categories.map((function(e){return{name:e.name,slug:e.slug}}))});case 4:case"end":return e.stop()}}),e)})))()}),[]),r({type:L,payload:{data:a.data}}),Object(u.a)({},a)}(),t=e.isLoading,a=e.data;return t?c.a.createElement("p",null,"Loading...."):a?c.a.createElement(c.a.Fragment,null,a.map((function(e){var t=e.slug,a=e.name;return c.a.createElement("p",{key:t,onClick:function(){return T("/category/".concat(t))}},"".concat(a))}))):c.a.createElement("p",null,"Loading Categories Failed ")})),F=c.a.memo((function(){var e=function(){var e=Object(n.useState)({isLoading:!0,data:void 0}),t=Object(i.a)(e,2),a=t[0],c=t[1],r=Object(l.b)();return Object(n.useEffect)((function(){Object(g.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(k);case 2:t=e.sent,c({isLoading:!1,data:t&&t.tags&&t.tags.map((function(e){return{name:e.name,slug:e.slug}}))});case 4:case"end":return e.stop()}}),e)})))()}),[]),r({type:C,payload:{data:a.data}}),Object(u.a)({},a)}(),t=e.isLoading,a=e.data;return t?c.a.createElement("p",null,"Loading...."):a?c.a.createElement(c.a.Fragment,null,a.map((function(e){var t=e.slug,a=e.name;return c.a.createElement("p",{key:t,onClick:function(){return T("/tag/".concat(t))}},"".concat(a))}))):c.a.createElement("p",null,"Loading Top Tags Failed ")})),M=c.a.memo((function(){return c.a.createElement("footer",{className:"site-footer",role:"contentinfo"},c.a.createElement("div",null,"Created By: Ashish Ranjan"))})),P=function(){return c.a.createElement("div",null,c.a.createElement(R,null),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"main-container"},c.a.createElement(x.b,{history:_},c.a.createElement(x.c,null,c.a.createElement(x.a,{path:"/post/:postId/:postSlug"},c.a.createElement(A,null)),c.a.createElement(x.a,{path:"/:type/:subType"},c.a.createElement(I,null)),c.a.createElement(x.a,{path:"/"},c.a.createElement(I,null))))),c.a.createElement("div",{className:"side-container"},c.a.createElement("div",{className:"categories-container"},c.a.createElement("h2",null," Categories "),c.a.createElement(B,null)),c.a.createElement("div",{className:"top-tags-container"},c.a.createElement("h2",null," Top Tags "),c.a.createElement(F,null)))),c.a.createElement(M,null))},V=a(40),G=a(41),H=a(45),J=a(42),U=a(46),X=function(e){function t(e){var a;return Object(V.a)(this,t),(a=Object(H.a)(this,Object(J.a)(t).call(this,e))).state={hasError:!1},a}return Object(U.a)(t,e),Object(G.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){return this.state.hasError?c.a.createElement("h1",null,"Something went wrong."):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{hasError:!0}}}]),t}(c.a.Component),Y=a(12),q=a(43),z=a(44),K={topTags:[],categories:[],blogs:[],totalBlogs:0},Q={blog:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;return Object(z.a)(e,(function(e){switch(t.type){case L:e.categories=t.payload.data;break;case C:e.topTags=t.payload.data;break;case N:e.blogs=t.payload.data,e.totalBlogs=t.payload.totalCount}}))}},W=[Object(q.routerMiddleware)(_)],Z=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Y.d,$=Object(Y.e)(Object(Y.c)(Q),Z(Y.a.apply(void 0,W)));o.a.render(c.a.createElement(X,null,c.a.createElement(l.a,{store:$},c.a.createElement(P,null))),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.0b89b2af.chunk.js.map